
components:

    schemas:

        HsOfficeCoopAssetsTransactionType:
            type: string
            enum:
                - ADJUSTMENT
                - DEPOSIT
                - DISBURSAL
                - TRANSFER
                - ADOPTION
                - CLEARING
                - LOSS

        HsOfficeCoopAssetsTransaction:
            type: object
            properties:
                uuid:
                    type: string
                    format: uuid
                transactionType:
                    $ref: '#/components/schemas/HsOfficeCoopAssetsTransactionType'
                assetValue:
                    type: number
                    format: currency
                valueDate:
                   type: string
                   format: date
                reference:
                    type: string
                comment:
                    type: string
                adjustedAssetTx:
                    $ref: '#/components/schemas/HsOfficeReferencedCoopAssetsTransaction'
                adjustmentAssetTx:
                    $ref: '#/components/schemas/HsOfficeReferencedCoopAssetsTransaction'

        HsOfficeReferencedCoopAssetsTransaction:
            description:
                Similar to `HsOfficeCoopAssetsTransaction` but without the self-referencing properties 
                (`adjustedAssetTx` and `adjustmentAssetTx`), to avoid recursive JSON.
            type: object
            properties:
                uuid:
                    type: string
                    format: uuid
                transactionType:
                    $ref: '#/components/schemas/HsOfficeCoopAssetsTransactionType'
                assetValue:
                    type: number
                    format: currency
                valueDate:
                    type: string
                    format: date
                reference:
                    type: string
                comment:
                    type: string

        HsOfficeCoopAssetsTransactionInsert:
            type: object
            properties:
                membership.uuid:
                    type: string
                    format: uuid
                    nullable: false
                transactionType:
                    $ref: '#/components/schemas/HsOfficeCoopAssetsTransactionType'
                assetValue:
                    type: number
                    format: currency
                valueDate:
                    type: string
                    format: date
                reference:
                    type: string
                    minLength: 6
                    maxLength: 48
                comment:
                    type: string
                reverseEntry.uuid:
                    type: string
                    format: uuid
            required:
                - membership.uuid
                - transactionType
                - assetValue
                - valueDate
                - reference
            additionalProperties: false
