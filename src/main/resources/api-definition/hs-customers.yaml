get:
    summary: Returns a list of (optionally filtered) customers.
    description: Returns the list of (optionally filtered) customers which are visible to the current user or any of it's assumed roles.
    tags:
        - customers
    operationId: listCustomers
    parameters:
        - $ref: './api-definition/auth.yaml#/components/parameters/currentUser'
        - $ref: './api-definition/auth.yaml#/components/parameters/assumedRoles'
        - name: prefix
          in: query
          required: false
          schema:
              type: string
          description: Customer-prefix to filter the results.
    responses:
        "200":
            description: OK
            content:
                'application/json':
                    schema:
                        type: array
                        items:
                            $ref: './api-definition/hs-customer-schemas.yaml#/components/schemas/Customer'
        "401":
            $ref: './api-definition/error-responses.yaml#/components/responses/Unauthorized'
        "403":
            $ref: './api-definition/error-responses.yaml#/components/responses/Forbidden'

post:
    summary: Adds a new customer.
    tags:
        - customers
    operationId: addCustomer
    parameters:
        - $ref: './api-definition/auth.yaml#/components/parameters/currentUser'
        - $ref: './api-definition/auth.yaml#/components/parameters/assumedRoles'
    requestBody:
        content:
            'application/json':
                schema:
                    $ref: './api-definition/api-definition/hs-customer-schemas.yaml#/components/schemas/Customer'
        required: true
    responses:
        "200":
            description: OK
            content:
                'application/json':
                    schema:
                        $ref: './api-definition/hs-customer-schemas/components.yaml#/schemas/Customer'
        "401":
            $ref: './api-definition/error-responses.yaml#/components/responses/Unauthorized'
        "403":
            $ref: './api-definition/error-responses.yaml#/components/responses/Forbidden'
